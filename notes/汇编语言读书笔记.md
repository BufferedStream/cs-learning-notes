## 汇编语言读书笔记

### 第 1 章	基础知识



#### 1.1 机器语言

机器语言是机器指令的集合。机器指令展开来讲就是一台机器可以正确执行的命令。电子计算机的机器指令是一列二进制数字。计算机将之转变为一列高低电平，以使计算机的电子器件受到驱动，进行运算。

上面所说的计算机指的是可以执行机器指令，进行运算的机器。在我们常用的 PC 机中，有一个芯片来完成上面所说的计算机的功能。这个芯片就是我们常说的 CPU（Central Processing Unit，中央处理单元），CPU 是一种微处理器。以后我们提到的计算机是指由 CPU 和其他受 CPU 直接或间接控制的芯片、器件、设备组成的计算机系统，比如我们最常见的 PC 机。

每一种微处理器，由于硬件设计和内部结构的不同，就需要用不同的电平脉冲来控制，使它工作。所以每一种微处理器都有自己的机器指令集，也就是机器语言。



#### 1.2 汇编语言的产生

由于机器语言的晦涩难懂和不易查错，给整个产业的发展带来了障碍，汇编语言产生了。

汇编语言的主体是汇编指令。汇编指令和机器指令的差别在于指令的表示方法上。汇编指令是机器指令便于记忆的书写格式。如下例所示：

操作：寄存器 BX 的内容送到 AX 中

机器指令：1000100111011000

汇编指令：mov ax,bx



寄存器，简单地讲是 CPU 中可以存储数据的器件，一个 CPU 中有多个寄存器。AX 和 bX 是寄存器的代号。

我们需要编译器将汇编语言解读成计算机能读懂的机器指令。









#### 1.3 汇编语言的组成

汇编语言有以下 3 类指令组成。

（1）汇编指令：机器码的助记符，有对应的机器码。

（2）伪指令：没有对应的机器码，由编译器执行，计算机并不执行。

（3）其他符号：如 +、-、*、/ 等，由编译器识别，没有对应的机器码。

汇编语言的核心是汇编指令，它决定了汇编语言的特性。



#### 1.4 存储器

CPU 是计算机的核心部件，它控制整个计算机的运作并进行运算。要想让一个 CPU 工作，就必须向它提供指令和数据。指令和数据在存储器中存放，也就是我们平时所说的内存。磁盘不同于内存，磁盘上的数据或程序如果不读到内存中，就无法被 CPU 使用。要灵活地利用汇编语言编程，我们首先要了解 CPU 是如何从内存中读取信息，以及向内存中写入信息的。



#### 1.5 指令和数据

指令和数据是应用上的概念。在内存或磁盘上，指令和数据没有任何区别，都是二进制信息。CPU 在工作的时候把有的信息看作指令，有的信息看作数据，为同样的信息赋予了不同的意义。

例如，内存中的二进制信息 1000100111011000，计算机可以把它看作大小为 89D8H 的数据来处理，也可以将其看作指令 mov ax,bx 来执行。

```assembly
1000100111011000 ——> 89D8H（数据）
1000100111011000 ——> mov ax,bx（程序）
```



#### 1.6 存储单元

存储器被划分成若干个存储单元，每个存储单元从 0 开始顺序编号，例如一个存储器有 128 个存储单元，编号从 0~127，如图 1.2 所示。





那么一个存储单元能存储多少信息呢？我们知道电子计算机的最小信息单位是 bit（音译为比特），也就是一个二进制位。8 个 bit 组成一个 Byte，也就是通常讲的一个字节。微型机存储器的存储单元可以存储一个 Byte，即 8 个二进制位。一个存储器有 128 个存储单元，它可以存储 128 个 Byte。

微机存储器的容量是以字节为最小单位来计算的。对于拥有 128 个存储单元的存储器，我们可以说

，它的容量是 128 个字节。

对于大容量的存储器一般还用以下单位来计量容量（以下用 B 来代表 Byte）

1KB=1024B	1MB=1024KB	1GB=1024MB	1TB=1024GB

磁盘的容量单位同内存的意义，实际上以上单位是微机中常用的计量单位。



#### 1.7 CPU 对存储器的读写

CPU 要从内存中读数据，首先要指定存储单元的地址。另外，在一台微机中，不止有存储器这一种器件。CPU 在读写时还要指明，它要对哪一个器件进行操作，进行哪种操作，是从中读出数据，还是向里面写入数据。

可见，CPU 要想进行数据的读写，必须和外部器件（标准的说法是芯片）进行下面 3 类信息的交互。

- 存储单元的地址（地址信息）；
- 器件的选择，读或写的命令（控制信息）；
- 读或写的数据（数据信息）。

那么 CPU 是通过什么将地址、数据和控制信息传到存储器芯片中的呢？电子计算机能处理、传输的信息都是电信号，电信号当然要用导线传送。在计算机中专门有连接 CPU 和其他芯片的导线，通常称为总线。总线从物理上来讲，就是一根根导线的集合。根据传送信息的不同，总线从逻辑上又分为 3 类，地址总线、控制总线和数据总线。

CPU 从 3 号单元中读取数据的过程（见图 1.3）如下。





（1）CPU 通过地址线将地址信息 3 发出。

（2）CPU 通过控制线发出内存读命令，选中存储器芯片，并通知它，将要从中读取数据。

（3）存储器将 3 号单元中的数据 8 通过数据线送入 CPU。



对于 8086CPU，下面的机器码，能够完成从 3 号单元读数据。

机器码：	101000010000001100000000

含义：		从 3 号单元读取数据送入寄存器 AX

CPU 接收这条机器码后将完成我们上面所述的读写工作。

机器码难于记忆，用汇编指令来表示，情况如下。

机器码：	10100001 00000011 00000000

对应的汇编指令：MOV AX,[3]

含义：		传送 3 号单元的内容入 AX



#### 1.8 地址总线

现在我们知道，CPU 是通过地址总线来指定存储器多纳伊的。可见地址总线上能传送多少个不同的信息，CPU 就可以对多少个存储单元进行寻址。

现假设，一个 CPU 有 10 根地址总线，让我们来看一下它的寻址情况。我们知道，在电子计算机中，一根导线可以传送的稳定状态只有两种，高电平或是低电平。用二进制表示就是 1 或 0，10 根导线可以传送 10 位二进制数据。而 10 位二进制数可以表示多少个不同的数据呢？2 的 10 次方个。最小数为 0，最大数为 1023。

一个 CPU 有 N 根地址线，则可以说这个 CPU 的地址总线的宽度为 N。这样的 CPU 最多可以寻找 2 的 N 次方个内存单元。



#### 1.9 数据总线

CPU 与内存或其他器件之间的数据传送是通过数据总线来进行的。数据总线的宽度决定了 CPU 和外界的数据传送速度。8 根数据总线一次可传送一个 8 位二进制数据（即一个字节）。16 根数据总线一次可传送两个字节。

8088CPU 的数据总线宽度为 8，8086CPU 的数据总线宽度为 16。我们来分别看一下它们向内存中写入数据 89D8H 时，是如何通过数据总线传送数据的。图 1.5 展示了 8088CPU 数据总线上的数据传送情况；图 1.6 展示了 8086CPU 数据总线上的数据传送情况。







8086 有 16 根数据线，可一次传送16 位数据，所以可一次传送数据 89D8H；而 8088 只有 8 根数据线，一次只能传 8 位数据，所以向内存写入数据 89D8H 时需要进行两次数据传送。



#### 1.10 控制总线

CPU 对外部器件的控制是通过控制总线来进行的。在这里控制总线是个总称，控制总线是一些不同控制线的集合。有多少根控制总线，就意味着 CPU 提供了对外部器件的多少种控制。所以，控制总线的宽度决定了 CPU 对外部器件的控制能力。

前面所讲的内容读或写命令是由几根控制线综合发出的，其中有一根称为 “读信号输出” 的控制线负责由 CPU 向外传送读信号，CPU 向该控制线上输出低电平表示将要读取数据；有一根称为 “写信号输出” 的控制线则负责传送写信号。



#### 1.1~1.10 小结

（1）汇编指令是机器指令的助记符，同机器指令一一对应。

（2）每一种 CPU 都有自己的汇编指令集。

（3）CPU 可以直接使用的信息在存储器中存放。

（4）在存储器中指令和数据没有任何区别，都是二进制信息。

（5）存储单元从零开始顺序编号。

（6）一个存储单元可以存储 8 个 bit，即 8 位二进制数。

（7）1KB=1024B	1MB=1024KB	1GB=1024MB	1TB=1024GB

（8）每一个 CPU 芯片都有许多管脚，这些管脚和总线相连。也可以说，这些管脚引出总线。一个 CPU 可以引出 3 种总线的宽度标志了这个 CPU 的不同方面的性能：

​	地址总线的宽度决定了 CPU 的寻址能力；

​	数据总线的宽度决定了 CPU 与其他器件进行数据传送时的一次数据传送量；

​	控制总线的宽度决定了 CPU 对系统中其他器件的控制能力。



#### 监测点 1.1

（1）1 个 CPU 的寻址能力为 8KB，那么它的地址总线的宽度为？























































































