## Linux 查看文件的常用命令

- **cat**：由第一行开始显示文件内容

- **tac**：从最后一行开始显示

- **more**：一页一页的显示档案内容

- **less**：与 more 类似，功能更加强大，支持连续搜索，向前搜索

- **head**：从头开始显示文件指定的行数

- **tail**：显示文件指定的结尾的行数，常用来查看不断刷新的日志

- **grep**：用于查找文件中符合字符串的那行。

- **vi**：文本编辑器

  

### 文本

什么是文本，在计算机中，有许多方法可以表达信息。所有的方法都涉及到，在信息与一些数字之间确立一种关系，而这些数字可以用来代表信息。毕竟，计算机只能理解数字，这样所有的数据都被转换成数指来表示。

有些数值表达法非常复杂（例如压缩的视频文件），而其他的就相等简单。最早也是最简单的一综合功能表达法，叫做 ASCII 文本。 ASCII（发音是 “As-Key”）是美国信息交换标准码的简称。这是一个简单的编码方法，它首先被用在电传打字机上，用来实现键盘字符到数字的映射。

文本是简单的字符与数字之间的一对一映射，它非常紧凑。五十个字符的文本翻译成五十个字节的数据。文本只是包含简单的字符到数字的映射，理解这点很重要。它和一些文字处理器文档不一样。比如说由微软和 OpenOffice.org 文档编辑器创建的文件。和简单的 ASCII 文件形成鲜明对比，它们包含许多非文本元素，来描述它的结构和格式。 普通的 ASCII 文件，只包含字符本身，和一些基本的控制符，像制表符，回车符及换行符。纵观 Linux 系统，许多文件 以文本格式存储，也有许多 Linux 工具来处理文本文件。甚至 Windows 也承认这种文件格式的重要性。著名的 NOTEPAD.EXE 程序就是一个 ASCII 文本文件编辑器。

文本文件编码不止 ASCII 一种，还有 UTF-8， Unicode 等等。

为什么我们要查看文本文件呢？因为许多包含系统设置的文件（叫做配置文件），是以文本格式存储的，阅读它们可以更深入的了解系统是如何工作的。另外，许多系统所用到的实际程序（叫做脚本）也是以这种格式存储的。



### cat 命令

**cat命令**连接文件或标准输入并打印到标准输出设备上。这个命令常用来显示文件内容，或者将几个文件连接起来显示，或者从标准输入读取内容并显示，它常与重定向符号配合使用。

注意：当文件较大时，文本在屏幕上迅速闪过（滚屏），用户往往看不清所显示的内容。因此，一般用 more 等命令分屏显示。为了控制滚屏，可以按 Ctrl+S 键，停止滚屏；按 Ctrl+Q 键可以恢复滚屏。按 Ctrl+C（中断）键可以终止该命令的执行，并且返回 Shell 提示符状态。

**1.命令格式：**

​	cat [OPTION]... [FILE]...



**2.命令功能：**

​		1.一次显示整个文件：cat	filename		

​		2.从键盘创建一个文件：cat	>	filename	只能创建新文件，不能编辑已有文件

​		3.将几个文件合并为一个文件：cat	file1	file2	>	file

​		4.将一个文件内容追加到另一个文件后面：cat file1 >> file2，cat file1 > file2 是重定向的意思，会覆盖原先的内容

​		5.快速清空一个文件：cat /dev/null > file1



**3.命令参数：**

	   -A, --show-all
	          equivalent to -vET
	
	   -b, --number-nonblank
	          number nonempty output lines, overrides -n
	          与 -n 类似，只不过对于空白行不编号
	
	   -e     equivalent to -vE
	
	   -E, --show-ends
	          display $ at end of each line
	          在每行结束处显示 $
	
	   -n, --number
	          number all output lines
	          由 1 开始对所有输出的行数编号
	
	   -s, --squeeze-blank
	          suppress repeated empty output lines
	          当遇到有连续两行以上的空白行，就代换为一行的空白行
	
	   -t     equivalent to -vT
	
	   -T, --show-tabs
	          display TAB characters as ^I
	          将跳格字符显示为 ^I
	
	   -u     (ignored)，找不着
	
	   -v, --show-nonprinting
	          use ^ and M- notation, except for LFD and TAB
	          使用 ^ 和 M- 引用，除了 LFD 和 TAB 之外 
	
	   --help display this help and exit
	
	   --version
	          output version information and exit




### tac 命令

用法：tac [选项]... [文件]...

将每个指定文件按行倒置并写到标准输出。如果不指定文件，或文件为"-"，则从标准输入读取数据。长选项必须使用的参数对于短选项时也是必需使用的。 

 -b, --before                  在行前而非行尾添加分隔标志 

 -r, --regex                   将分隔标志视作正则表达式来解析  

-s, --separator=字符串        使用指定字符串代替换行作为分隔标志      

--help            显示此帮助信息并退出     

 --version         显示版本信息并退出



类似的还有 rev 命令，功能是将文件中的每行内容以字符为单位反序输出，即第一个字符最后输出，最后一个字符最先输出，依次类推。







### more 命令

more 命令，功能类似 cat，cat 命令是整个文件的内容从上到下显示在屏幕上。more 会以一页一页的显示方便使用者逐页阅读，而最基本的指令就是按空白键（space）就往下一页显示，按 b 键就会往回（back）一页显示，而且还有搜寻字符串的功能。more 命令从前向后读取文件，因此在启动时就加载整个文件。

more 命令的查找功能可以帮你，通过参数 **+/string** 可以用来搜索字符串，找到的关键字会显示在第一行。在结果显示时可以直接输入 **/string** 来查找文件。

**1．命令格式：**

more [-dlfpcsu ] [-num ] [+/ pattern] [+ linenum] [file ... ] 

**2．命令功能：**

more 命令和 cat 的功能一样都是查看文件里的内容，但有所不同的是 more 可以按页来查看文件的内容，还支持直接跳转行等功能。

**3．命令参数：**

+n      从笫 n 行开始显示

-n       定义屏幕大小为 n 行

+/pattern  在每个档案显示前搜寻该字串（pattern），然后从该字串前两行之后开始显示  

-c       从顶部清屏，然后显示

-d       提示 “Press space to continue，’q’ to quit（按空格键继续，按q键退出）”，禁用响铃功能

-l        忽略 Ctrl+l（换页）字符

-p       通过清除窗口而不是滚屏来对文件进行换页，与 -c 选项相似

-s       把连续的多个空行显示为一行

-u       把文件内容中的下画线去掉

**4．常用操作命令：**

Enter    向下 n 行，需要定义。默认为 1 行

Ctrl + F   向下滚动一屏

空格键  向下滚动一屏

Ctrl + B  返回上一屏

=       输出当前行的行号

:f     输出文件名和当前行的行号

V      调用 vi 编辑器

! 命令   调用 Shell，并执行命令 

q       退出 more





### less 命令

less 命令也是对文件或其它输出进行分页显示的命令，应该说是 linux 正统查看文件内容的命令，功能极其强大。less 的用法比起 more 更加的有弹性。在使用老版本的 more 的时候，我们并没有办法向前面翻， 只能往后面看，但若使用了 less 时，就可以按 `f` 或 `space` 向下翻一页
按 `b` 向前翻一页（forward 和 backward），更容易用来查看一个文件的内容！除此之外，在 less 里头可以拥有更多的搜索功能，不止可以向下搜，也可以向上搜。

less 命令不必在启动前读取整个输入文件，因此对于大的输入文件来说，比 vi 之类的文件编辑器启动更快。与 more 命令一样，按一下 `h` 即进入帮助界面。

**1．命令格式：**

less [参数]  文件 

**2．命令功能：**

less 与 more 类似，但使用 less 进行正则表达式搜索时，可以向前翻页，同时它支持用 ? 来向前搜索。用 less 查看文件时，按大写 F，支持像 tail -f 一样刷新显示文件。

**3．命令参数：**

-b <缓冲区大小> 设置缓冲区的大小

-e  当文件显示结束后，自动离开

-f  强迫打开特殊文件，例如外围设备代号、目录和二进制文件

-g  只标志最后搜索的关键词

-i  忽略搜索时的大小写

-m  显示类似more命令的百分比

-N  显示每行的行号

-o <文件名> 将less 输出的内容在指定文件中保存起来

-Q  不使用警告音

-s  显示连续空行为一行

-S  行过长时间将超出部分舍弃

-x <数字> 将“tab”键显示为规定的数字空格

/字符串：向下搜索“字符串”的功能

?字符串：向上搜索“字符串”的功能

n：重复前一个搜索（与 / 或 ? 有关）

N：反向重复前一个搜索（与 / 或 ? 有关）

b  向后翻一页

d  向后翻半页

h  显示帮助界面

Q  退出less 命令

u  向前滚动半页

y  向前滚动一行

空格键 滚动一行

回车键 滚动一页

[pagedown]： 向下翻动一页

[pageup]：   向上翻动一页





### head 命令

head 与 tail 就像它的名字一样的浅显易懂，它是用来显示开头或结尾某个数量的文字区块，head 用来显示档案的开头至标准输出中，而 tail 就是看档案的结尾。

**1．命令格式：**

head [参数]... [文件]...  

**2．命令功能：**

head 用来显示档案的开头至标准输出中，默认 head 命令打印其相应文件的开头 10 行。 

**3．命令参数：**

-q 隐藏文件名

-v 显示文件名

-c<字节> 显示字节数

-n<行数> 显示的行数





### tail 命令

tail 命令从指定点开始将文件写到标准输出。使用 tail 命令的 -f 选项可以方便的查阅正在改变的日志文件，tail -f filename 会把 filename 里最尾部的内容显示在屏幕上，并且不断刷新，使你看到最新的文件内容。 

**1．命令格式;**

tail [必要参数] [选择参数] [文件]   

**2．命令功能：**

用于显示指定文件末尾内容，不指定文件时，作为输入信息进行处理。常用查看日志文件。

**3．命令参数：**

-f 循环读取

-q 不显示处理信息

-v 显示详细的处理信息

-c<数目> 显示的字节数

-n<行数> 显示行数

--pid=PID 与 -f 合用，表示在进程 ID，PID 死掉之后结束. 

-q, --quiet, --silent 从不输出给出文件名的首部 

-s, --sleep-interval=S  与 -f 合用，表示在每次反复的间隔休眠 S 秒 





### grep 命令

Linux 系统中 grep 命令是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。grep 全称是 Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。

grep 的工作方式是这样的，它在一个或多个文件中搜索字符串模板。如果模板包括空格，则必须被引用，模板后的所有字符串被看作文件名。搜索的结果被送到标准输出，不影响原文件内容。

grep 可用于 shell 脚本，因为 grep 通过返回一个状态值来说明搜索的状态，如果模板搜索成功，则返回 0，如果搜索不成功，则返回 1，如果搜索的文件不存在，则返回 2。我们利用这些返回值就可进行一些自动化的文本处理工作。

**1．命令格式：**

grep [option] pattern file

**2．命令功能：**

用于过滤/搜索的特定字符。可使用正则表达式能多种命令配合使用，使用上十分灵活。

**3．命令参数：**

-a   --text   #不要忽略二进制的数据。   

-A<显示行数>   --after-context=<显示行数>   #除了显示符合范本样式的那一列之外，并显示该行之后的内容。   

-b   --byte-offset   #在显示符合样式的那一行之前，标示出该行第一个字符的编号。   

-B<显示行数>   --before-context=<显示行数>   #除了显示符合样式的那一行之外，并显示该行之前的内容。   

-c    --count   #计算符合样式的列数。   

-C<显示行数>    --context=<显示行数>或-<显示行数>   #除了显示符合样式的那一行之外，并显示该行之前后的内容。   

-d <动作>      --directories=<动作>   #当指定要查找的是目录而非文件时，必须使用这项参数，否则grep指令将回报信息并停止动作。   

-e<范本样式>  --regexp=<范本样式>   #指定字符串做为查找文件内容的样式。   

-E      --extended-regexp   #将样式为延伸的普通表示法来使用。   

-f<规则文件>  --file=<规则文件>   #指定规则文件，其内容含有一个或多个规则样式，让grep查找符合规则条件的文件内容，格式为每行一个规则样式。   

-F   --fixed-regexp   #将样式视为固定字符串的列表。   

-G   --basic-regexp   #将样式视为普通的表示法来使用。   

-h   --no-filename   #在显示符合样式的那一行之前，不标示该行所属的文件名称。   

-H   --with-filename   #在显示符合样式的那一行之前，表示该行所属的文件名称。   

-i    --ignore-case   #忽略字符大小写的差别。   

-l    --file-with-matches   #列出文件内容符合指定的样式的文件名称。   

-L   --files-without-match   #列出文件内容不符合指定的样式的文件名称。   

-n   --line-number   #在显示符合样式的那一行之前，标示出该行的列数编号。   

-q   --quiet或--silent   #不显示任何信息。   

-r   --recursive   #此参数的效果和指定“-d recurse”参数相同。   

-s   --no-messages   #不显示错误信息。   

-v   --revert-match   #显示不包含匹配文本的所有行。   

-V   --version   #显示版本信息。   

-w   --word-regexp   #只显示全字符合的列。   

-x    --line-regexp   #只显示全列符合的列。   

-y   #此参数的效果和指定“-i”参数相同。



**4．规则表达式：**

**grep的规则表达式:**

^  #锚定行的开始 如：'^grep' 匹配所有以 grep 开头的行。    

$  #锚定行的结束 如：'grep$' 匹配所有以 grep 结尾的行。    

.  #匹配一个非换行符的字符 如：'gr.p' 匹配 gr 后接一个任意字符，然后是 p。    

\*  #匹配零个或多个先前字符 如：'*grep' 匹配所有一个或多个空格后紧跟 grep 的行。    

.*   #一起用代表任意字符。   

[]   #匹配一个指定范围内的字符，如'[Gg]rep'匹配Grep和grep。    

[^]  #匹配一个不在指定范围内的字符，如：'[A-FH-Z]rep' 匹配不包含 A-R 和 T-Z 的一个字母开头，紧跟 rep 的行。    

\ (.. \)  #标记匹配字符，如 '\ (love\ )'，love 被标记为 1。    

\ <      #锚定单词的开始，如:'\<grep'匹配包含以grep开头的单词的行。    

\ >      #锚定单词的结束，如'grep\>'匹配包含以grep结尾的单词的行。    

x\ {m\ }  #重复字符 x，m 次，如：'o\ {5\ }' 匹配包含 5 个 o 的行。    

x\ {m,\ }  #重复字符 x，至少 m 次，如：'o\{5, \ }' 匹配至少有 5 个 o 的行。    

x\ {m,n\ }  #重复字符 x，至少 m 次，不多于 n 次，如：'o\ {5,10\ }' 匹配 5--10 个 o 的行。   

\w    #匹配文字和数字字符，也就是 [A-Za-z0-9]，如：'G\w*p'匹配以 G 后跟零个或多个英文或数字字符，然后是 p。   

\W    #\w 的反置形式，匹配一个或多个非单词字符，如点号句号等。   

\b    #单词锁定符，如: '\bgrep\b' 只匹配 grep。  



**POSIX字符:**

为了在不同国家的字符编码中保持一至，POSIX(The Portable Operating System Interface) 增加了特殊的字符类，如 [:alnum:] 是 [A-Za-z0-9] 的另一个写法。要把它们放到 [] 号内才能成为正则表达式，如 [A- Za-z0-9] 或 [[:alnum:]]。在 linux 下的 grep 除 fgrep 外，都支持 POSIX 的字符类。

[:alnum:]    #文字数字字符   

[:alpha:]    #文字字符   

[:digit:]    #数字字符   

[:graph:]    #非空字符（非空格、控制字符）   

[:lower:]    #小写字符   

[:cntrl:]    #控制字符   

[:print:]    #非空字符（包括空格）   

[:punct:]    #标点符号   

[:space:]    #所有空白字符（新行，空格，制表符）   

[:upper:]    #大写字符   

[:xdigit:]   #十六进制数字（0-9，a-f，A-F）  



