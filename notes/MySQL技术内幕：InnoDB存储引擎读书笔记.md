## MySQL技术内幕：InnoDB存储引擎读书笔记



### 第5章 索引与算法

索引是应用程序设计和开发的一个重要方面。若索引太多，应用程序的性能可能会受到影响。而索引太少，对查询性能又会产生影响。要找到一个合适的平衡点，这对应用程序的性能至关重要。

一些开发人员总是在事后才想起添加索引——我一直认为，这源于一种错误的开发模式。如果知道数据的使用，从一开始就应该在需要处添加索引。开发人员往往对于数据库的使用停留在应用的层面，比如编写 SQL 语句、存储过程之类，他们甚至可能不知道索引的存在，或者认为事后让相关 DBA 加上即可。DBA 往往不够了解业务的数据流，而添加索引需要通过监控大量的 SQL 语句进而从中找到问题，这个步骤所需的时间肯定是远大于初始添加索引所需要的时间，并且可能会遗漏一部分的索引。当然索引也并不是越多越好，我曾经遇到这样一个问题：某台 MySQL 服务器 iostat 显示磁盘使用率一直处于 100%，经过分析后发现是由于开发人员添加了太多的索引，在删除一些不必要的索引之后，磁盘使用率马上下降为 20%。可见索引的添加也是非常有技术含量的。



































